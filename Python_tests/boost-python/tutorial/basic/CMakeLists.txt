cmake_minimum_required (VERSION 2.6)
project (Tutorial)

# find_package(Boost REQUIRED COMPONENTS system python37)
# FIND_PACKAGE(PythonLibs ${PY_VERSION} REQUIRED)
FIND_PACKAGE(Boost COMPONENTS python${PYTHON_VERSION_MAJOR}${PYTHON_VERSION_MINOR})
FIND_PACKAGE(PythonInterp 3)
FIND_PACKAGE(PythonLibs 3 REQUIRED)
message(STATUS "PYTHON_LIBRARIES = ${PYTHON_LIBRARIES}")
message(STATUS "PYTHON_EXECUTABLE = ${PYTHON_EXECUTABLE}")
message(STATUS "PYTHON_INCLUDE_DIRS = ${PYTHON_INCLUDE_DIRS}")
message(STATUS "Boost_LIBRARIES = ${Boost_LIBRARIES}")
message(STATUS "Boost_INCLUDE_DIRS = ${Boost_INCLUDE_DIRS}")
PYTHON_ADD_MODULE(greeter main.cpp greeter.cpp)
target_include_directories(greeter PRIVATE ${PYTHON_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS})
target_link_libraries(greeter PRIVATE ${PYTHON_LIBS} ${Boost_Libraries})
FILE(COPY usemodule.py DESTINATION .)
# add_library(pygreeter SHARED greeter.cpp)

# message("PythonLibs_INCLUDE_DIRS = "${PythonLibs_INCLUDE_DIRS})
# 
# target_include_directories(pygreeter PUBLIC ${Boost_INCLUDE_DIRS})
# target_include_directories(pygreeter PUBLIC ${PythonLibs_INCLUDE_DIRS})
# target_include_directories(pygreeter PUBLIC ${Python_INCLUDE_DIRS})
# target_link_libraries(pygreeter ${Boost_LIBRARIES} ${PROJECT_NAME})
